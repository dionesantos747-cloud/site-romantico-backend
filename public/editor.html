<!DOCTYPE html>
<html lang="pt-BR">
<head>
<meta charset="UTF-8">
<title>Site RomÃ¢ntico</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no">
<link href="https://fonts.googleapis.com/css2?family=Playfair+Display:wght@600&display=swap" rel="stylesheet">

<style>
*{box-sizing:border-box}
body{
  margin:0;
  background:#000;
  color:#fff;
  font-family:Arial,sans-serif;
  overflow-x:hidden;
  touch-action:manipulation;
}

.editor{
  padding:20px;
  background:#0d0f18;
}

label{
  color:#ffb3d9;
  display:block;
  margin:14px 0 6px;
}

input,textarea{
  width:100%;
  padding:14px;
  border-radius:14px;
  border:none;
  font-size:1em;
}

input.error,textarea.error{border:2px solid red}

.error-text{
  color:red;
  font-size:.9em;
  margin-top:4px;
  display:none;
}

textarea{min-height:90px}

/* FUNDOS */
.bg-options{
  display:flex;
  gap:12px;
  justify-content:center;
  flex-wrap:wrap;
}
.bg-card{
  width:60px;
  height:60px;
  border-radius:14px;
  border:3px solid #000;
  cursor:pointer;
}
.bg-card.selected{border:3px solid #fff}
.azul{background:radial-gradient(circle,#2b6cff,#000)}
.roxo{background:radial-gradient(circle,#8a5cff,#000)}
.rosa{background:radial-gradient(circle,#ff5fa2,#000)}
.preto{background:radial-gradient(circle,#222,#000)}

/* FOTOS - SLOTS */
.photo-grid{
  display:flex;
  gap:10px;
  justify-content:center;
}
.photo-slot{
  width:90px;
  height:90px;
  border-radius:18px;
  border:2px dashed #777;
  display:flex;
  align-items:center;
  justify-content:center;
  font-size:2em;
  cursor:pointer;
}
.photo-slot.filled{cursor:default}

/* FOTO POLAROID STACK */
.photo{
  background:#fff;
  padding:8px 8px 18px;
  border-radius:4px;
  margin:20px auto;
  max-width:280px;
  box-shadow:0 0 18px rgba(255,255,255,.35);
  animation:floatPhoto 6s ease-in-out infinite;
  position:relative;
  transition:transform .5s, opacity .5s, z-index .5s;
}

@keyframes floatPhoto{
  0%,100%{transform:translateY(0) rotate(-1deg)}
  50%{transform:translateY(-6px) rotate(1deg)}
}

.photo.active{
  transform:scale(1) rotate(0deg);
  z-index:3;
  opacity:1;
}
.photo.behind-1{
  transform:scale(.9) rotate(-6deg) translateX(-40px);
  z-index:2;
  opacity:.8;
}
.photo.behind-2{
  transform:scale(.85) rotate(6deg) translateX(40px);
  z-index:1;
  opacity:.6;
}

.photo-remove{
  position:absolute;
  top:-8px;
  right:-8px;
  background:#ff4b4b;
  color:#fff;
  border-radius:50%;
  width:22px;
  height:22px;
  display:flex;
  align-items:center;
  justify-content:center;
  font-size:14px;
  cursor:pointer;
}

/* MÃšSICA */
#audioPlayer{
  display:block;
  margin:0 auto 20px;
  width:80%;
  max-width:300px;
}

.music-box{
  margin-top:12px;
  background:#222;
  padding:14px;
  border-radius:14px;
  text-align:center;
  cursor:pointer;
}
.music-box.disabled{opacity:.7}

.remove-music{
  display:none;
  margin-top:8px;
  color:#ff4b4b;
  text-align:center;
  cursor:pointer;
}

/* PREVIEW */
.preview{
  min-height:100vh;
  padding:40px 16px 160px;
  text-align:center;
  position:relative;
  overflow:hidden;
}

.nome{
  font-family:'Playfair Display', serif;
  font-size:3em;
  font-weight:bold;
  color:#ffd400;
  text-shadow:0 0 6px #ffd400,1px 1px 3px #000;
  animation:pulseNome 3s infinite;
}

@keyframes pulseNome{
  0%{transform:scale(1)}
  50%{transform:scale(1.05)}
  100%{transform:scale(1)}
}

.mensagem{
  font-family:'Playfair Display', serif;
  font-size:1.8em;
  font-style:italic;
}

.carta{
  background:#fff;
  color:#333;
  padding:22px;
  border-radius:20px;
  margin-top:20px;
  display:none;
  max-height:70vh;
  overflow-y:auto;
}

button{
  width:100%;
  padding:18px;
  border:none;
  border-radius:18px;
  font-size:1.1em;
  margin-top:18px;
}

.pay{
  background:#ffd400;
  color:#000;
  font-weight:bold;
  animation:pulse 1.4s infinite;
}

@keyframes pulse{
  0%{box-shadow:0 0 0 0 rgba(255,212,0,.6)}
  70%{box-shadow:0 0 0 14px rgba(255,212,0,0)}
  100%{box-shadow:0 0 0 0 rgba(255,212,0,0)}
}

/* CORAÃ‡Ã•ES */
.heart{
  position:absolute;
  bottom:-20px;
  font-size:18px;
  opacity:.6;
  animation:float 8s linear infinite;
}
@keyframes float{
  to{transform:translateY(-120vh);opacity:0}
}

/* CONTADOR */
#tempo{margin-top:20px}
#tempo .titulo{
  font-family:'Playfair Display', serif;
  font-size:2.2em;
  color:#ffd400;
}
#tempo .contador{
  display:flex;
  justify-content:center;
  gap:12px;
}
#tempo .item{
  background:#fff;
  color:#333;
  padding:12px 18px;
  border-radius:12px;
}
</style>
</head>

<body>

<div class="editor">
  <label>Nome</label>
  <input id="nomeInput">

  <label>Mensagem</label>
  <textarea id="msgInput"></textarea>

  <label>Carta</label>
  <textarea id="cartaInput"></textarea>

  <label>Data</label>
  <input type="date" id="dataInput">

  <label>Fotos</label>
  <div class="photo-grid">
    <div class="photo-slot" data-slot="0">+</div>
    <div class="photo-slot" data-slot="1">+</div>
    <div class="photo-slot" data-slot="2">+</div>
  </div>
  <input type="file" id="fotoInput" accept="image/*" hidden>

  <label>MÃºsica</label>
  <div class="music-box" id="musicBox">Adicionar mÃºsica ðŸŽµ</div>
  <div class="remove-music" id="removeMusic">Remover mÃºsica</div>
  <input type="file" id="musicaInput" accept="audio/*" hidden>
</div>

<div class="preview azul" id="preview">
  <audio id="audioPlayer" controls style="display:none"></audio>
  <div class="nome" id="nome"></div>
  <div class="mensagem" id="mensagem"></div>
  <div id="midias"></div>
  <div id="tempo"></div>
  <button id="btnCarta">ðŸ’Œ Abrir carta</button>
  <div class="carta" id="carta"></div>
  <button class="pay" id="btnComprar">Gerar QR code por R$9,99</button>
</div>

<script>
const nomeInput = document.getElementById("nomeInput");
const msgInput = document.getElementById("msgInput");
const cartaInput = document.getElementById("cartaInput");
const dataInput = document.getElementById("dataInput");

const nome = document.getElementById("nome");
const mensagem = document.getElementById("mensagem");
const carta = document.getElementById("carta");
const tempo = document.getElementById("tempo");
const preview = document.getElementById("preview");

nomeInput.oninput = ()=> nome.innerText = nomeInput.value;
msgInput.oninput = ()=> mensagem.innerText = msgInput.value;
cartaInput.oninput = ()=> carta.innerText = cartaInput.value;

/* STACK */
function atualizarStack(index){
  document.querySelectorAll("#midias .photo").forEach((f,i)=>{
    f.classList.remove("active","behind-1","behind-2");
    if(i===index) f.classList.add("active");
    if(i===index+1) f.classList.add("behind-1");
    if(i===index+2) f.classList.add("behind-2");
  });
}

/* FOTOS */
let fotos=[null,null,null];
let slotAtual=null;
const fotoInput=document.getElementById("fotoInput");
const midias=document.getElementById("midias");

document.querySelectorAll(".photo-slot").forEach(slot=>{
  slot.onclick=()=>{
    if(slot.classList.contains("filled")) return;
    slotAtual=slot.dataset.slot;
    fotoInput.click();
  }
});

fotoInput.onchange=e=>{
  const file=e.target.files[0];
  if(!file) return;

  const url=URL.createObjectURL(file);
  const div=document.createElement("div");
  div.className="photo";
  div.innerHTML=`<img src="${url}" style="width:100%">`;

  const rem=document.createElement("div");
  rem.className="photo-remove";
  rem.innerText="Ã—";
  rem.onclick=()=>{div.remove(); atualizarStack(0);}
  div.appendChild(rem);

  midias.appendChild(div);
  atualizarStack(0);

  const slot=document.querySelector(`.photo-slot[data-slot="${slotAtual}"]`);
  slot.classList.add("filled");
  slot.innerText="";
  slotAtual=null;
  fotoInput.value="";
};
</script>

</body>
</html>







