<!DOCTYPE html>
<html lang="pt-BR">
<head>
<meta charset="UTF-8">
<title>Site Rom√¢ntico</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no">
<link href="https://fonts.googleapis.com/css2?family=Playfair+Display:wght@600&display=swap" rel="stylesheet">

<style>
*{box-sizing:border-box}
body{
  margin:0;
  background:#000;
  color:#fff;
  font-family:Arial,sans-serif;
  overflow-x:hidden;
  touch-action:manipulation;
}

/* EDITOR */
.editor{padding:20px;background:#0d0f18}
label{color:#ffb3d9;display:block;margin:14px 0 6px}
input,textarea{
  width:100%;padding:14px;border-radius:14px;border:none;font-size:1em
}
input.error,textarea.error{border:2px solid red}
.error-text{color:red;font-size:.9em;margin-top:4px;display:none}
textarea{min-height:90px}

/* FUNDOS */
.bg-options{display:flex;gap:12px;justify-content:center;flex-wrap:wrap}
.bg-card{
  width:60px;height:60px;border-radius:14px;border:3px solid #000;cursor:pointer
}
.bg-card.selected{border:3px solid #fff}
.azul{background:radial-gradient(circle,#2b6cff,#000)}
.roxo{background:radial-gradient(circle,#8a5cff,#000)}
.rosa{background:radial-gradient(circle,#ff5fa2,#000)}
.preto{background:radial-gradient(circle,#222,#000)}

/* FOTOS SLOT */
.photo-grid{display:flex;gap:10px;justify-content:center}
.photo-slot{
  width:90px;height:90px;border-radius:18px;border:2px dashed #777;
  display:flex;align-items:center;justify-content:center;font-size:2em;
  cursor:pointer
}
.photo-slot.filled{cursor:default}

/* FOTO POLAROID */
.photo{
  background:#fff;
  padding:8px 8px 18px;
  border-radius:4px;
  margin:20px auto;
  max-width:280px;
  box-shadow:0 0 18px rgba(255,255,255,.35);
  animation:floatPhoto 6s ease-in-out infinite;

  position:relative;
  transition:
    transform 0.45s cubic-bezier(.4,0,.2,1),
    opacity 0.4s ease;
  transform-origin:center bottom;
}

@keyframes floatPhoto{
  0%,100%{transform:translateY(0) rotate(-1deg)}
  50%{transform:translateY(-6px) rotate(1deg)}
}

/* STACK */
.photo.active{transform:scale(1) rotate(0);z-index:3;opacity:1}
.photo.behind-1{transform:scale(.92) rotate(-6deg) translateX(-40px);z-index:2;opacity:.85}
.photo.behind-2{transform:scale(.85) rotate(6deg) translateX(40px);z-index:1;opacity:.65}

/* CARROSSEL */
#midias{
  display:flex;
  gap:24px;
  overflow-x:auto;
  padding:30px 16px;
  scroll-snap-type:x mandatory;
  -webkit-overflow-scrolling:touch;
}
#midias::-webkit-scrollbar{display:none}
#midias .photo{
  flex:0 0 80%;
  max-width:80%;
  scroll-snap-align:center;
}

/* DOTS */
.dots{display:flex;justify-content:center;gap:8px;margin-top:-10px}
.dot{
  width:8px;height:8px;background:#777;border-radius:50%;
  transition:.3s
}
.dot.active{background:#ffd400;transform:scale(1.3)}

/* PREVIEW */
.preview{min-height:100vh;padding:40px 16px 160px;text-align:center;position:relative}
.nome{
  font-family:'Playfair Display',serif;
  font-size:3em;color:#ffd400;
  text-shadow:0 0 6px #ffd400,1px 1px 3px #000;
  animation:pulseNome 3s infinite
}
@keyframes pulseNome{50%{transform:scale(1.05)}}
.mensagem{font-family:'Playfair Display';font-size:1.8em;font-style:italic}
.carta{background:#fff;color:#333;padding:22px;border-radius:20px;display:none}

button{width:100%;padding:18px;border:none;border-radius:18px;font-size:1.1em;margin-top:18px}
.pay{background:#ffd400;color:#000;font-weight:bold;animation:pulse 1.4s infinite}
@keyframes pulse{70%{box-shadow:0 0 0 14px rgba(255,212,0,0)}}
</style>
</head>

<body>

<div class="editor">
  <label>Nome</label>
  <input id="nomeInput">
  <div class="error-text">Campo n√£o preenchido</div>

  <label>Mensagem</label>
  <textarea id="msgInput"></textarea>
  <div class="error-text">Campo n√£o preenchido</div>

  <label>Carta</label>
  <textarea id="cartaInput"></textarea>
  <div class="error-text">Campo n√£o preenchido</div>

  <label>Data</label>
  <input type="date" id="dataInput">
  <div class="error-text">Campo n√£o preenchido</div>

  <label>Fotos</label>
  <div class="photo-grid">
    <div class="photo-slot" data-slot="0">+</div>
    <div class="photo-slot" data-slot="1">+</div>
    <div class="photo-slot" data-slot="2">+</div>
  </div>
  <input type="file" id="fotoInput" hidden accept="image/*">

  <label>M√∫sica</label>
  <div class="music-box" id="musicBox">Adicionar m√∫sica üéµ</div>
  <input type="file" id="musicaInput" hidden accept="audio/*">
</div>

<div class="preview azul" id="preview">
  <audio id="audioPlayer" controls style="display:none"></audio>
  <div class="nome" id="nome"></div>
  <div class="mensagem" id="mensagem"></div>

  <div id="midias"></div>
  <div class="dots" id="dots"></div>

  <button id="btnCarta">üíå Abrir carta</button>
  <div class="carta" id="carta"></div>
  <button class="pay" id="btnComprar">Gerar QR code</button>
</div>

<script>
document.addEventListener("DOMContentLoaded",()=>{

let indexAtivo=0;
const midias=document.getElementById("midias");
const dots=document.getElementById("dots");
const fotoInput=document.getElementById("fotoInput");
let slotAtual=null;

/* STACK + DOTS */
function atualizarStack(i){
  document.querySelectorAll(".photo").forEach((f,idx)=>{
    f.classList.remove("active","behind-1","behind-2");
    if(idx===i)f.classList.add("active");
    else if(idx===i+1)f.classList.add("behind-1");
    else if(idx===i+2)f.classList.add("behind-2");
  });
}
function ativarDot(i){
  document.querySelectorAll(".dot").forEach((d,idx)=>d.classList.toggle("active",idx===i));
}
function criarDots(){
  dots.innerHTML="";
  document.querySelectorAll(".photo").forEach((_,i)=>{
    const d=document.createElement("div");
    d.className="dot";
    if(i===0)d.classList.add("active");
    d.onclick=()=>midias.children[i].scrollIntoView({behavior:"smooth",inline:"center"});
    dots.appendChild(d);
  });
}

/* SCROLL */
midias.addEventListener("scroll",()=>{
  document.querySelectorAll(".photo").forEach((f,i)=>{
    const r=f.getBoundingClientRect();
    if(r.left>=0 && r.left<window.innerWidth/2)indexAtivo=i;
  });
  atualizarStack(indexAtivo);
  ativarDot(indexAtivo);
});

/* FOTO */
document.querySelectorAll(".photo-slot").forEach(s=>{
  s.onclick=()=>{slotAtual=s.dataset.slot;fotoInput.click()}
});
fotoInput.onchange=e=>{
  const file=e.target.files[0];
  if(!file)return;
  const url=URL.createObjectURL(file);
  const div=document.createElement("div");
  div.className="photo";
  div.innerHTML=`<img src="${url}" style="width:100%">`;
  midias.appendChild(div);
  criarDots();
  atualizarStack(0);
  fotoInput.value="";
};

});
</script>
</body>
</html>



















