<!DOCTYPE html>
<html lang="pt-BR">
<head>
<meta charset="UTF-8">
<title>Aguardando pagamento</title>
<style>
body{background:#000;color:#fff;font-family:Arial;text-align:center;padding:40px}
</style>
</head>
<body>

<h1>Aguardando pagamento</h1>
<p>Confirmando seu PIXâ€¦</p>

<script>
const params = new URLSearchParams(window.location.search);
const paymentId = params.get("payment_id");

setInterval(async () => {
  const res = await fetch(`/check-payment?payment_id=${paymentId}`);
  const data = await res.json();
  if (data.status === "approved") {
    window.location.href = `/success.html?payment_id=${paymentId}`;
  }
}, 3000);
</script>

</body>
</html>
