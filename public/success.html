<!DOCTYPE html>
<html lang="pt-BR">
<head>
<meta charset="UTF-8">
<title>Obrigado!</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<link href="https://fonts.googleapis.com/css2?family=Playfair+Display:wght@600&display=swap" rel="stylesheet">
<style>
  body {
    background: #000;
    color: #fff;
    font-family: 'Playfair Display', serif;
    text-align: center;
    padding: 40px;
  }
  h1 { color: #ff5fa2; }
  p { font-size: 1.4em; }
  img { width: 250px; height: 250px; margin: 20px; border-radius: 20px; box-shadow: 0 0 20px #ff5fa2; }
  a { color: #ffd400; font-weight: bold; text-decoration: none; }
</style>
</head>
<body>

<h1>Obrigado pela compra! ðŸ’–</h1>
<p>Seu link personalizado serÃ¡ liberado assim que o pagamento for confirmado.</p>

<div id="qrContainer"></div>
<p id="linkContainer"></p>

<script>
const urlParams = new URLSearchParams(window.location.search);
const id = urlParams.get("id");

// Carregar dados do usuÃ¡rio
fetch("/data/users.json")
  .then(res => res.json())
  .then(users => {
    const data = users[id];
    if(!data){
      document.getElementById("qrContainer").innerHTML = "<p>UsuÃ¡rio nÃ£o encontrado</p>";
      return;
    }

    if(!data.pago){
      document.getElementById("qrContainer").innerHTML = "<p>Pagamento ainda nÃ£o confirmado ðŸ’–</p>";
      return;
    }

    // Mostrar QR code e link
    const qrImg = document.createElement("img");
    qrImg.src = data.qrData;
    qrImg.alt = "QR Code";
    document.getElementById("qrContainer").appendChild(qrImg);

    const linkEl = document.getElementById("linkContainer");
    linkEl.innerHTML = `<a href="/user.html?id=${id}">Acesse seu site personalizado</a>`;
  });
</script>

</body>
</html>
